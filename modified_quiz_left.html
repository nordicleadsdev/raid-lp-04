<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sea of Conquest - Epic Pirate Adventure</title>
    <meta name="robots" content="noindex, nofollow">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #0a2540 0%, #1e3c72 50%, #2a5298 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background image overlay */
        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a2540 0%, #1e3c72 50%, #2a5298 100%);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -2;
            transition: background-image 0.5s ease-in-out;
        }

        /* Responsive background images */
        @media (orientation: portrait) {
            .background-overlay.has-image {
                background-image: var(--bg-portrait);
            }
        }

        @media (orientation: landscape) {
            .background-overlay.has-image {
                background-image: var(--bg-landscape);
            }
        }

        /* Particle effects container */
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Main container - Modified to align left */
        .container {
            display: flex;
            align-items: center;
            justify-content: flex-start; /* Changed from center to flex-start */
            min-height: 100vh;
            padding: 20px;
            padding-bottom: 40px;
            padding-left: 40px; /* Added extra left padding */
        }

        /* Quiz box - glassmorphism design */
        .quiz-box {
            background: rgba(17, 24, 39, 0.7);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 2px solid rgba(115, 115, 115, 0.3);
            border-radius: 16px;
            padding: 40px;
            max-width: 600px; /* Reduced from 700px to make it narrower */
            width: 100%;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            text-align: center;
            margin-right: auto; /* Pushes the box to the left */
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .container {
                justify-content: center; /* Center on smaller screens */
                padding-left: 20px;
            }
            .quiz-box {
                max-width: 700px; /* Full width on smaller screens */
            }
        }

        @media (max-width: 768px) {
            .quiz-box {
                padding: 30px 20px;
                margin: 10px;
            }
            .container {
                padding-left: 20px;
            }
        }

        /* Question title styling */
        .question-title {
            font-size: 2.5rem;
            font-weight: 700;
            font-style: italic;
            text-transform: uppercase;
            letter-spacing: -0.025em;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
            line-height: 1.1;
        }

        .question-subtitle {
            font-size: 1.25rem;
            font-weight: 400;
            font-style: italic;
            margin-bottom: 40px;
            opacity: 0.9;
            text-shadow: 0 1px 5px rgba(0, 0, 0, 0.6);
        }

        @media (max-width: 768px) {
            .question-title {
                font-size: 2rem;
            }
            .question-subtitle {
                font-size: 1.1rem;
                margin-bottom: 30px;
            }
        }

        /* Button container */
        .button-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 40px;
        }

        /* Angled buttons matching the design */
        .quiz-button {
            position: relative;
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            border: none;
            padding: 20px 60px;
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            font-style: italic;
            color: white;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            box-shadow: 0 4px 15px rgba(34, 197, 94, 0.4);
            transition: all 0.3s ease;
            overflow: hidden;
            
            /* Angled shape using clip-path */
            clip-path: polygon(0 0, calc(100% - 30px) 0, 100% 100%, 30px 100%);
            
            /* Arrow indicator */
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .quiz-button::after {
            content: 'âž¯';
            font-size: 1.8rem;
            font-weight: normal;
            margin-left: 20px;
        }

        .quiz-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(34, 197, 94, 0.6);
            background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        }

        .quiz-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(34, 197, 94, 0.4);
        }

        /* No button styling */
        .quiz-button.no-button {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
        }

        .quiz-button.no-button:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.6);
        }

        @media (max-width: 768px) {
            .quiz-button {
                font-size: 1.2rem;
                padding: 18px 40px;
                clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 100%, 20px 100%);
            }
            .quiz-button::after {
                font-size: 1.5rem;
                margin-left: 15px;
            }
        }

        /* Question animations */
        .question-slide {
            opacity: 0;
            transform: translateY(30px);
            animation: slideIn 0.6s ease-out forwards;
        }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-slide.fade-out {
            animation: slideOut 0.4s ease-in forwards;
        }

        @keyframes slideOut {
            to {
                opacity: 0;
                transform: translateY(-30px);
            }
        }

        /* Progress indicator */
        .progress-container {
            position: absolute;
            top: -20px;
            left: 40px;
            right: 40px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #22c55e, #10b981);
            border-radius: 2px;
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Loading state */
        .loading {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .loading.show {
            display: flex;
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Click sound effect indicator */
        .sound-effect {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .sound-effect.show {
            opacity: 1;
        }

        /* Final redirect message */
        .redirect-message {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .redirect-message.show {
            display: flex;
            animation: slideIn 0.6s ease-out;
        }

        .success-icon {
            font-size: 4rem;
            color: #22c55e;
            margin-bottom: 10px;
        }

        /* Hide question when redirecting */
        .quiz-content.hidden {
            display: none;
        }

        /* Simple footer - minimal and below fold */
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(5px);
            padding: 8px 20px;
            font-size: 10px;
            color: rgba(255, 255, 255, 0.4);
            text-align: center;
            z-index: 1;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer a {
            color: rgba(255, 255, 255, 0.5);
            text-decoration: none;
            margin: 0 8px;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: rgba(255, 255, 255, 0.7);
        }

        .footer-divider {
            margin: 0 5px;
            color: rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .footer {
                font-size: 9px;
                padding: 6px 15px;
            }
            
            .footer a {
                margin: 0 4px;
            }
        }
    </style>
</head>
<body>
    <div class="background-overlay"></div>
    <div id="particles-js"></div>
    
    <div class="container">
        <div class="quiz-box">
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <!-- Quiz Content -->
            <div class="quiz-content" id="quizContent">
                <!-- Question 1: Age Verification -->
                <div class="question-slide" id="question1">
                    <h1 class="question-title">This Game is Rated 18+</h1>
                    <p class="question-subtitle">Are you legally of age to play this game?</p>
                    
                    <div class="button-container">
                        <button class="quiz-button" data-next="2" data-answer="yes">
                            <span>Yes, I'm 18+</span>
                        </button>
                        <button class="quiz-button no-button" data-exit="true">
                            <span>No</span>
                        </button>
                    </div>
                </div>

                <!-- Question 2: Geographic Exclusivity -->
                <div class="question-slide" id="question2" style="display: none;">
                    <h1 class="question-title">The explicit version of this game is exclusive to</h1>
                    <p class="question-subtitle" id="countryText">United States</p>
                    <p class="question-subtitle">Can you confirm your residency?</p>
                    
                    <div class="button-container">
                        <button class="quiz-button" data-next="3" data-answer="resident">
                            <span id="nationalityText">Yes, I am American</span>
                        </button>
                        <button class="quiz-button no-button" data-exit="true">
                            <span>No, I live elsewhere</span>
                        </button>
                    </div>
                </div>

                <!-- Question 3: Patience Test -->
                <div class="question-slide" id="question3" style="display: none;">
                    <h1 class="question-title">Explicit content may be slowly revealed over time.</h1>
                    <p class="question-subtitle">Can you be patient and reach level 10?</p>
                    
                    <div class="button-container">
                        <button class="quiz-button" data-next="4" data-answer="patient">
                            <span>Yes, level 10 here I come!</span>
                        </button>
                        <button class="quiz-button no-button" data-exit="true">
                            <span>No, I prefer everything now</span>
                        </button>
                    </div>
                </div>

                <!-- Question 4: Secrecy -->
                <div class="question-slide" id="question4" style="display: none;">
                    <h1 class="question-title">Our pirate queens prefer those who keep secrets</h1>
                    <p class="question-subtitle">Can you keep this game confidential?</p>
                    
                    <div class="button-container">
                        <button class="quiz-button" data-next="5" data-answer="secret">
                            <span>Yes, I swear to secrecy!</span>
                        </button>
                        <button class="quiz-button no-button" data-exit="true">
                            <span>I'm not sure</span>
                        </button>
                    </div>
                </div>

                <!-- Question 5: Character Preference -->
                <div class="question-slide" id="question5" style="display: none;">
                    <h1 class="question-title">What look would you prefer for your pirate companion?</h1>
                    
                    <div class="button-container">
                        <button class="quiz-button" data-next="6" data-answer="blonde" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);">
                            <span>Blonde</span>
                        </button>
                        <button class="quiz-button" data-next="6" data-answer="brunette" style="background: linear-gradient(135deg, #92400e 0%, #78350f 100%); box-shadow: 0 4px 15px rgba(146, 64, 14, 0.4);">
                            <span>Brunette</span>
                        </button>
                        <button class="quiz-button" data-next="6" data-answer="redhead" style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); box-shadow: 0 4px 15px rgba(220, 38, 38, 0.4);">
                            <span>Redhead</span>
                        </button>
                    </div>
                </div>

                <!-- Question 6: Final Question -->
                <div class="question-slide" id="question6" style="display: none;">
                    <h1 class="question-title">This is your chance for glory and desire</h1>
                    <p class="question-subtitle">Ready to begin?</p>
                    
                    <div class="button-container">
                        <button class="quiz-button" data-complete="true">
                            <span>Let's Go!</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Redirect Message -->
            <div class="redirect-message" id="redirectMessage">
                <div class="success-icon">âš“</div>
                <h1 class="question-title" style="margin-bottom: 0;">Launching Sea of Conquest...</h1>
                <p class="question-subtitle">Prepare for the ultimate pirate adventure!</p>
                <div class="loading show">
                    <div class="spinner"></div>
                    <span>Loading your adventure...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Sound Effect Indicator -->
    <div class="sound-effect" id="soundEffect">ðŸ”Š Click</div>

    <!-- Minimal Footer - Below fold -->
    <footer class="footer">
        <a href="#imprint" onclick="openLegal('imprint'); return false;">Imprint</a>
        <span class="footer-divider">|</span>
        <a href="#terms" onclick="openLegal('terms'); return false;">Terms of Use</a>
        <span class="footer-divider">|</span>
        <a href="#privacy" onclick="openLegal('privacy'); return false;">Privacy Policy</a>
    </footer>

    <!-- Particles.js from CDN -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <script>
        // Global variables
        let currentStep = 1;
        const totalSteps = 6;

        // Set background based on URL parameter
        function setBackgroundFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            const bgParam = urlParams.get('bg');
            
            if (bgParam) {
                const backgroundOverlay = document.querySelector('.background-overlay');
                const bgNumber = bgParam.padStart(2, '0');
                
                const landscapeImage = `url('images/bg${bgNumber}.jpg')`;
                const portraitImage = `url('images/bg${bgNumber}-portrait.jpg')`;
                
                backgroundOverlay.style.setProperty('--bg-landscape', landscapeImage);
                backgroundOverlay.style.setProperty('--bg-portrait', portraitImage);
                backgroundOverlay.classList.add('has-image');
                
                const landscapeImg = new Image();
                const portraitImg = new Image();
                
                landscapeImg.src = `images/bg${bgNumber}.jpg`;
                portraitImg.src = `images/bg${bgNumber}-portrait.jpg`;
                
                landscapeImg.onerror = () => {
                    console.warn(`Background image bg${bgNumber}.jpg not found`);
                };
                portraitImg.onerror = () => {
                    console.warn(`Background image bg${bgNumber}-portrait.jpg not found`);
                };
                
                console.log(`Background set to: bg${bgNumber}.jpg`);
            }
        }

        // Detect user's country and set appropriate text
        function detectCountryAndSetText() {
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            let country = "United States";
            let nationality = "American";
            
            if (timezone.includes("Europe")) {
                country = "Europe";
                nationality = "European";
            } else if (timezone.includes("Asia")) {
                country = "Asia";
                nationality = "Asian";
            } else if (timezone.includes("Australia")) {
                country = "Australia";
                nationality = "Australian";
            }
            
            const countryEl = document.getElementById('countryText');
            const nationalityEl = document.getElementById('nationalityText');
            
            if (countryEl) countryEl.textContent = country;
            if (nationalityEl) nationalityEl.textContent = `Yes, I am ${nationality}`;
        }

        // Initialize particles background
        function initParticles() {
            if (typeof particlesJS !== 'undefined') {
                particlesJS("particles-js", {
                    "particles": {
                        "number": {
                            "value": 80,
                            "density": {
                                "enable": true,
                                "value_area": 800
                            }
                        },
                        "color": {
                            "value": "#ffffff"
                        },
                        "shape": {
                            "type": "circle"
                        },
                        "opacity": {
                            "value": 0.5,
                            "random": false,
                            "anim": {
                                "enable": true,
                                "speed": 0.5,
                                "opacity_min": 0.1,
                                "sync": false
                            }
                        },
                        "size": {
                            "value": 3,
                            "random": true,
                            "anim": {
                                "enable": true,
                                "speed": 2,
                                "size_min": 0.1,
                                "sync": false
                            }
                        },
                        "line_linked": {
                            "enable": false
                        },
                        "move": {
                            "enable": true,
                            "speed": 1,
                            "direction": "none",
                            "random": true,
                            "straight": false,
                            "out_mode": "out",
                            "bounce": false
                        }
                    },
                    "interactivity": {
                        "detect_on": "canvas",
                        "events": {
                            "onhover": {
                                "enable": true,
                                "mode": "bubble"
                            },
                            "onclick": {
                                "enable": false
                            },
                            "resize": true
                        },
                        "modes": {
                            "bubble": {
                                "distance": 100,
                                "size": 6,
                                "duration": 2,
                                "opacity": 0.8,
                                "speed": 3
                            }
                        }
                    },
                    "retina_detect": true
                });
            }
        }

        // Play click sound effect (visual indicator)
        function playClickSound() {
            const soundEffect = document.getElementById('soundEffect');
            if (soundEffect) {
                soundEffect.classList.add('show');
                setTimeout(() => {
                    soundEffect.classList.remove('show');
                }, 500);
            }
        }

        // Update progress bar
        function updateProgress() {
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                const progress = (currentStep / totalSteps) * 100;
                progressBar.style.width = progress + '%';
            }
        }

        // Navigate to next question
        function nextQuestion(nextStep, answer) {
            playClickSound();
            
            console.log(`Question ${currentStep} answered: ${answer}`);
            
            const currentQuestion = document.getElementById(`question${currentStep}`);
            if (!currentQuestion) return;
            
            currentQuestion.classList.add('fade-out');
            
            setTimeout(() => {
                currentQuestion.style.display = 'none';
                currentQuestion.classList.remove('fade-out');
                
                const nextQuestionEl = document.getElementById(`question${nextStep}`);
                if (nextQuestionEl) {
                    nextQuestionEl.style.display = 'block';
                    currentStep = nextStep;
                    updateProgress();
                }
            }, 400);
        }

        // Exit flow
        function exitFlow() {
            playClickSound();
            console.log('User exited the flow');
            alert('Thank you for your interest. This content is not suitable for your criteria.');
        }

        // Complete the quiz and redirect
        function completeQuiz() {
            playClickSound();
            console.log('Quiz completed - redirecting to game');
            
            const quizContent = document.getElementById('quizContent');
            const redirectMessage = document.getElementById('redirectMessage');
            
            if (quizContent) quizContent.classList.add('hidden');
            if (redirectMessage) redirectMessage.classList.add('show');
            
            setTimeout(() => {
                redirectToGame();
            }, 3000);
        }

        // Redirect logic - replace with your actual outbound link
        function redirectToGame() {
            const yourOutboundLink = "https://your-actual-game-link.com";
            window.location.href = yourOutboundLink;
        }

        // Handle legal link clicks
        function openLegal(type) {
            const urls = {
                'imprint': 'legal/imprint.html',
                'terms': 'legal/terms.html', 
                'privacy': 'legal/privacy.html'
            };
            
            window.open(urls[type], '_blank', 'noopener,noreferrer');
        }

        // Button click handler using event delegation
        function handleButtonClick(event) {
            const button = event.target.closest('.quiz-button');
            if (!button) return;

            const nextStep = button.dataset.next;
            const answer = button.dataset.answer;
            const shouldExit = button.dataset.exit;
            const shouldComplete = button.dataset.complete;

            if (shouldExit) {
                exitFlow();
            } else if (shouldComplete) {
                completeQuiz();
            } else if (nextStep && answer) {
                nextQuestion(parseInt(nextStep), answer);
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            setBackgroundFromUrl();
            detectCountryAndSetText();
            initParticles();
            updateProgress();

            // Add single event listener for all buttons
            document.addEventListener('click', handleButtonClick);

            console.log('Quiz initialized successfully');
        });

        // Handle window resize for particles
        window.addEventListener('resize', function() {
            if (window.pJSDom && window.pJSDom[0] && window.pJSDom[0].pJS) {
                window.pJSDom[0].pJS.fn.vendors.resize();
            }
        });
    </script>
</body>
</html>